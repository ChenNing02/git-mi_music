{"id":"B5ui","dependencies":[{"name":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\package.json","includedInParent":true,"mtime":1566311241732},{"name":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\package.json","includedInParent":true,"mtime":1566311222064},{"name":"../package.json","loc":{"line":1,"column":18},"parent":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\lib\\index.js","resolved":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\package.json"},{"name":"./api.js","loc":{"line":2,"column":18},"parent":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\lib\\index.js","resolved":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\lib\\api.js"},{"name":"posthtml-parser","loc":{"line":4,"column":21},"parent":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\lib\\index.js","resolved":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml-parser\\index.js"},{"name":"posthtml-render","loc":{"line":5,"column":21},"parent":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml\\lib\\index.js","resolved":"C:\\MyDocument\\GitHub\\git-demo-miniMusic\\node_modules\\posthtml-render\\lib\\index.js"}],"generated":{"js":"function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&\"function\"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?\"symbol\":typeof n})(t)}var t=require(\"../package.json\"),e=require(\"./api.js\"),r=require(\"posthtml-parser\"),i=require(\"posthtml-render\");function o(n){this.version=t.version,this.name=t.name,this.plugins=\"function\"==typeof n?[n]:n||[],this.messages=[],e.call(this)}function s(t,e){\"object\"===n(t)&&(t=Object.assign(t,e))}function u(n){return!!n&&\"function\"==typeof n.then}function c(n,t){try{return n()}catch(e){t(e)}}function p(n,t){return{get html(){return n(t,t.options)},tree:t,messages:t.messages}}o.parser=r,o.render=i,o.prototype.use=function(){return[].push.apply(this.plugins,arguments),this},o.prototype.process=function(n,t){if((t=this.options=t||{}).parser&&(r=t.parser),t.render&&(i=t.render),n=t.skipParse?n||[]:r(n,t),!0===t.sync)return this.plugins.forEach(function(e,r){var i;if(s(n,this),2===e.length||u(i=e(n)))throw new Error(\"Canâ€™t process contents in sync mode because of async plugin: \"+e.name);r===this.plugins.length-1||t.skipParse||(n=[].concat(n)),n=i||n}.bind(this)),p(i,n);var e=0,o=function(n,r){if(s(n,this),this.plugins.length<=e)r(null,n);else{var i=this.plugins[e++];if(2!==i.length){var p=null,f=c(function(){return i(n)},function(n){return p=n,n});p?r(p):u(f)?f.then(a).catch(r):a(f)}else i(n,function(n,t){if(n)return r(n);a(t)})}function a(e){return e&&!t.skipParse&&(e=[].concat(e)),o(e||n,r)}}.bind(this);return new Promise(function(t,e){o(n,function(n,r){n?e(n):t(p(i,r))})})},module.exports=function(n){return new o(n)};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":9}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":11}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":14}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":21}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":23}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":42}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":50}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":67}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":74}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":83}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":92}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":95}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":109}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":112}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":121}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":124}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":131}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":134}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":153}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":161}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":163}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":177}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":185}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":189}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":196}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":206}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":222}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":294,"column":1},"generated":{"line":1,"column":226}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":229}},{"source":"node_modules/posthtml/lib/index.js","name":"pkg","original":{"line":1,"column":4},"generated":{"line":1,"column":233}},{"source":"node_modules/posthtml/lib/index.js","name":"require","original":{"line":1,"column":10},"generated":{"line":1,"column":235}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":1,"column":18},"generated":{"line":1,"column":243}},{"source":"node_modules/posthtml/lib/index.js","name":"Api","original":{"line":2,"column":4},"generated":{"line":1,"column":262}},{"source":"node_modules/posthtml/lib/index.js","name":"require","original":{"line":2,"column":10},"generated":{"line":1,"column":264}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":2,"column":18},"generated":{"line":1,"column":272}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":4,"column":4},"generated":{"line":1,"column":284}},{"source":"node_modules/posthtml/lib/index.js","name":"require","original":{"line":4,"column":13},"generated":{"line":1,"column":286}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":4,"column":21},"generated":{"line":1,"column":294}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":5,"column":4},"generated":{"line":1,"column":313}},{"source":"node_modules/posthtml/lib/index.js","name":"require","original":{"line":5,"column":13},"generated":{"line":1,"column":315}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":5,"column":21},"generated":{"line":1,"column":323}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":20,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":20,"column":9},"generated":{"line":1,"column":351}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":20,"column":19},"generated":{"line":1,"column":353}},{"source":"node_modules/posthtml/lib/index.js","name":"version","original":{"line":27,"column":7},"generated":{"line":1,"column":356}},{"source":"node_modules/posthtml/lib/index.js","name":"version","original":{"line":27,"column":7},"generated":{"line":1,"column":361}},{"source":"node_modules/posthtml/lib/index.js","name":"pkg","original":{"line":27,"column":17},"generated":{"line":1,"column":369}},{"source":"node_modules/posthtml/lib/index.js","name":"version","original":{"line":27,"column":21},"generated":{"line":1,"column":371}},{"source":"node_modules/posthtml/lib/index.js","name":"name","original":{"line":28,"column":7},"generated":{"line":1,"column":379}},{"source":"node_modules/posthtml/lib/index.js","name":"name","original":{"line":28,"column":7},"generated":{"line":1,"column":384}},{"source":"node_modules/posthtml/lib/index.js","name":"pkg","original":{"line":28,"column":14},"generated":{"line":1,"column":389}},{"source":"node_modules/posthtml/lib/index.js","name":"name","original":{"line":28,"column":18},"generated":{"line":1,"column":391}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":29,"column":7},"generated":{"line":1,"column":396}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":29,"column":7},"generated":{"line":1,"column":401}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":29,"column":36},"generated":{"line":1,"column":409}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":29,"column":24},"generated":{"line":1,"column":428}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":29,"column":49},"generated":{"line":1,"column":430}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":29,"column":50},"generated":{"line":1,"column":431}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":29,"column":61},"generated":{"line":1,"column":434}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":29,"column":72},"generated":{"line":1,"column":437}},{"source":"node_modules/posthtml/lib/index.js","name":"messages","original":{"line":52,"column":7},"generated":{"line":1,"column":440}},{"source":"node_modules/posthtml/lib/index.js","name":"messages","original":{"line":52,"column":7},"generated":{"line":1,"column":445}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":52,"column":18},"generated":{"line":1,"column":454}},{"source":"node_modules/posthtml/lib/index.js","name":"Api","original":{"line":55,"column":2},"generated":{"line":1,"column":457}},{"source":"node_modules/posthtml/lib/index.js","name":"call","original":{"line":55,"column":6},"generated":{"line":1,"column":459}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":55,"column":11},"generated":{"line":1,"column":464}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":242,"column":0},"generated":{"line":1,"column":470}},{"source":"node_modules/posthtml/lib/index.js","name":"_treeExtendApi","original":{"line":242,"column":9},"generated":{"line":1,"column":479}},{"source":"node_modules/posthtml/lib/index.js","name":"t","original":{"line":242,"column":25},"generated":{"line":1,"column":481}},{"source":"node_modules/posthtml/lib/index.js","name":"_t","original":{"line":242,"column":28},"generated":{"line":1,"column":483}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":243,"column":19},"generated":{"line":1,"column":486}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":243,"column":6},"generated":{"line":1,"column":497}},{"source":"node_modules/posthtml/lib/index.js","name":"t","original":{"line":243,"column":13},"generated":{"line":1,"column":499}},{"source":"node_modules/posthtml/lib/index.js","name":"t","original":{"line":244,"column":4},"generated":{"line":1,"column":504}},{"source":"node_modules/posthtml/lib/index.js","name":"Object","original":{"line":244,"column":8},"generated":{"line":1,"column":506}},{"source":"node_modules/posthtml/lib/index.js","name":"assign","original":{"line":244,"column":15},"generated":{"line":1,"column":513}},{"source":"node_modules/posthtml/lib/index.js","name":"t","original":{"line":244,"column":22},"generated":{"line":1,"column":520}},{"source":"node_modules/posthtml/lib/index.js","name":"_t","original":{"line":244,"column":25},"generated":{"line":1,"column":522}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":256,"column":0},"generated":{"line":1,"column":526}},{"source":"node_modules/posthtml/lib/index.js","name":"isPromise","original":{"line":256,"column":9},"generated":{"line":1,"column":535}},{"source":"node_modules/posthtml/lib/index.js","name":"promise","original":{"line":256,"column":20},"generated":{"line":1,"column":537}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":257,"column":9},"generated":{"line":1,"column":540}},{"source":"node_modules/posthtml/lib/index.js","name":"promise","original":{"line":257,"column":11},"generated":{"line":1,"column":548}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":257,"column":46},"generated":{"line":1,"column":551}},{"source":"node_modules/posthtml/lib/index.js","name":"promise","original":{"line":257,"column":29},"generated":{"line":1,"column":570}},{"source":"node_modules/posthtml/lib/index.js","name":"then","original":{"line":257,"column":37},"generated":{"line":1,"column":572}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":269,"column":0},"generated":{"line":1,"column":577}},{"source":"node_modules/posthtml/lib/index.js","name":"tryCatch","original":{"line":269,"column":9},"generated":{"line":1,"column":586}},{"source":"node_modules/posthtml/lib/index.js","name":"tryFn","original":{"line":269,"column":19},"generated":{"line":1,"column":588}},{"source":"node_modules/posthtml/lib/index.js","name":"catchFn","original":{"line":269,"column":26},"generated":{"line":1,"column":590}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":270,"column":6},"generated":{"line":1,"column":593}},{"source":"node_modules/posthtml/lib/index.js","name":"tryFn","original":{"line":271,"column":11},"generated":{"line":1,"column":597}},{"source":"node_modules/posthtml/lib/index.js","name":"tryFn","original":{"line":271,"column":11},"generated":{"line":1,"column":604}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":272,"column":4},"generated":{"line":1,"column":608}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":272,"column":11},"generated":{"line":1,"column":614}},{"source":"node_modules/posthtml/lib/index.js","name":"catchFn","original":{"line":273,"column":4},"generated":{"line":1,"column":617}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":273,"column":12},"generated":{"line":1,"column":619}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":286,"column":0},"generated":{"line":1,"column":623}},{"source":"node_modules/posthtml/lib/index.js","name":"lazyResult","original":{"line":286,"column":9},"generated":{"line":1,"column":632}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":286,"column":21},"generated":{"line":1,"column":634}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":286,"column":29},"generated":{"line":1,"column":636}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":287,"column":9},"generated":{"line":1,"column":639}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":287,"column":9},"generated":{"line":1,"column":645}},{"source":"node_modules/posthtml/lib/index.js","name":"html","original":{"line":288,"column":8},"generated":{"line":1,"column":646}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":289,"column":13},"generated":{"line":1,"column":657}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":289,"column":13},"generated":{"line":1,"column":664}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":289,"column":20},"generated":{"line":1,"column":666}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":289,"column":26},"generated":{"line":1,"column":668}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":289,"column":31},"generated":{"line":1,"column":670}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":291,"column":4},"generated":{"line":1,"column":680}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":291,"column":10},"generated":{"line":1,"column":685}},{"source":"node_modules/posthtml/lib/index.js","name":"messages","original":{"line":292,"column":4},"generated":{"line":1,"column":687}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":292,"column":14},"generated":{"line":1,"column":696}},{"source":"node_modules/posthtml/lib/index.js","name":"messages","original":{"line":292,"column":19},"generated":{"line":1,"column":698}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":64,"column":0},"generated":{"line":1,"column":708}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":64,"column":9},"generated":{"line":1,"column":710}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":64,"column":18},"generated":{"line":1,"column":717}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":71,"column":0},"generated":{"line":1,"column":719}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":71,"column":9},"generated":{"line":1,"column":721}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":71,"column":18},"generated":{"line":1,"column":728}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":85,"column":0},"generated":{"line":1,"column":730}},{"source":"node_modules/posthtml/lib/index.js","name":"prototype","original":{"line":85,"column":9},"generated":{"line":1,"column":732}},{"source":"node_modules/posthtml/lib/index.js","name":"use","original":{"line":85,"column":19},"generated":{"line":1,"column":742}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":85,"column":25},"generated":{"line":1,"column":746}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":87,"column":9},"generated":{"line":1,"column":757}},{"source":"node_modules/posthtml/lib/index.js","name":"push","original":{"line":86,"column":5},"generated":{"line":1,"column":763}},{"source":"node_modules/posthtml/lib/index.js","name":"push","original":{"line":86,"column":5},"generated":{"line":1,"column":766}},{"source":"node_modules/posthtml/lib/index.js","name":"apply","original":{"line":86,"column":10},"generated":{"line":1,"column":771}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":86,"column":16},"generated":{"line":1,"column":777}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":86,"column":21},"generated":{"line":1,"column":782}},{"source":"node_modules/posthtml/lib/index.js","name":"arguments","original":{"line":86,"column":30},"generated":{"line":1,"column":790}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":87,"column":9},"generated":{"line":1,"column":801}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":108,"column":0},"generated":{"line":1,"column":807}},{"source":"node_modules/posthtml/lib/index.js","name":"prototype","original":{"line":108,"column":9},"generated":{"line":1,"column":809}},{"source":"node_modules/posthtml/lib/index.js","name":"process","original":{"line":108,"column":19},"generated":{"line":1,"column":819}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":108,"column":29},"generated":{"line":1,"column":827}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":108,"column":39},"generated":{"line":1,"column":836}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":108,"column":45},"generated":{"line":1,"column":838}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":128,"column":6},"generated":{"line":1,"column":841}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":118,"column":2},"generated":{"line":1,"column":845}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":118,"column":12},"generated":{"line":1,"column":847}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":118,"column":17},"generated":{"line":1,"column":852}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":118,"column":27},"generated":{"line":1,"column":860}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":118,"column":38},"generated":{"line":1,"column":863}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":120,"column":14},"generated":{"line":1,"column":867}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":120,"column":22},"generated":{"line":1,"column":876}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":120,"column":31},"generated":{"line":1,"column":878}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":120,"column":39},"generated":{"line":1,"column":880}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":121,"column":6},"generated":{"line":1,"column":888}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":121,"column":14},"generated":{"line":1,"column":890}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":121,"column":22},"generated":{"line":1,"column":899}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":121,"column":31},"generated":{"line":1,"column":901}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":121,"column":39},"generated":{"line":1,"column":903}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":123,"column":2},"generated":{"line":1,"column":911}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":123,"column":9},"generated":{"line":1,"column":913}},{"source":"node_modules/posthtml/lib/index.js","name":"skipParse","original":{"line":123,"column":17},"generated":{"line":1,"column":915}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":124,"column":6},"generated":{"line":1,"column":925}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":124,"column":14},"generated":{"line":1,"column":928}},{"source":"node_modules/posthtml/lib/index.js","name":"parser","original":{"line":125,"column":6},"generated":{"line":1,"column":931}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":125,"column":13},"generated":{"line":1,"column":933}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":125,"column":19},"generated":{"line":1,"column":935}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":128,"column":23},"generated":{"line":1,"column":939}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":128,"column":6},"generated":{"line":1,"column":943}},{"source":"node_modules/posthtml/lib/index.js","name":"sync","original":{"line":128,"column":14},"generated":{"line":1,"column":945}},{"source":"node_modules/posthtml/lib/index.js","name":"lazyResult","original":{"line":149,"column":11},"generated":{"line":1,"column":950}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":129,"column":9},"generated":{"line":1,"column":957}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":129,"column":9},"generated":{"line":1,"column":962}},{"source":"node_modules/posthtml/lib/index.js","name":"forEach","original":{"line":129,"column":17},"generated":{"line":1,"column":970}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":129,"column":25},"generated":{"line":1,"column":978}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":129,"column":35},"generated":{"line":1,"column":987}},{"source":"node_modules/posthtml/lib/index.js","name":"index","original":{"line":129,"column":43},"generated":{"line":1,"column":989}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":132,"column":10},"generated":{"line":1,"column":992}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":132,"column":10},"generated":{"line":1,"column":996}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":134,"column":10},"generated":{"line":1,"column":998}},{"source":"node_modules/posthtml/lib/index.js","name":"_treeExtendApi","original":{"line":130,"column":6},"generated":{"line":1,"column":1001}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":130,"column":21},"generated":{"line":1,"column":1003}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":130,"column":27},"generated":{"line":1,"column":1005}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":134,"column":28},"generated":{"line":1,"column":1011}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":134,"column":10},"generated":{"line":1,"column":1015}},{"source":"node_modules/posthtml/lib/index.js","name":"length","original":{"line":134,"column":17},"generated":{"line":1,"column":1017}},{"source":"node_modules/posthtml/lib/index.js","name":"isPromise","original":{"line":134,"column":33},"generated":{"line":1,"column":1025}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":134,"column":43},"generated":{"line":1,"column":1027}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":134,"column":52},"generated":{"line":1,"column":1029}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":134,"column":59},"generated":{"line":1,"column":1031}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":135,"column":14},"generated":{"line":1,"column":1035}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":135,"column":14},"generated":{"line":1,"column":1041}},{"source":"node_modules/posthtml/lib/index.js","name":"Error","original":{"line":135,"column":18},"generated":{"line":1,"column":1045}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":136,"column":10},"generated":{"line":1,"column":1051}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":136,"column":76},"generated":{"line":1,"column":1115}},{"source":"node_modules/posthtml/lib/index.js","name":"name","original":{"line":136,"column":83},"generated":{"line":1,"column":1117}},{"source":"node_modules/posthtml/lib/index.js","name":"index","original":{"line":141,"column":10},"generated":{"line":1,"column":1123}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":141,"column":20},"generated":{"line":1,"column":1127}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":141,"column":25},"generated":{"line":1,"column":1132}},{"source":"node_modules/posthtml/lib/index.js","name":"length","original":{"line":141,"column":33},"generated":{"line":1,"column":1140}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":141,"column":42},"generated":{"line":1,"column":1147}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":141,"column":48},"generated":{"line":1,"column":1150}},{"source":"node_modules/posthtml/lib/index.js","name":"skipParse","original":{"line":141,"column":56},"generated":{"line":1,"column":1152}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":142,"column":8},"generated":{"line":1,"column":1164}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":142,"column":15},"generated":{"line":1,"column":1166}},{"source":"node_modules/posthtml/lib/index.js","name":"concat","original":{"line":142,"column":18},"generated":{"line":1,"column":1169}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":142,"column":25},"generated":{"line":1,"column":1176}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":146,"column":6},"generated":{"line":1,"column":1180}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":146,"column":13},"generated":{"line":1,"column":1182}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":146,"column":23},"generated":{"line":1,"column":1185}},{"source":"node_modules/posthtml/lib/index.js","name":"bind","original":{"line":147,"column":6},"generated":{"line":1,"column":1188}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":147,"column":11},"generated":{"line":1,"column":1193}},{"source":"node_modules/posthtml/lib/index.js","name":"lazyResult","original":{"line":149,"column":11},"generated":{"line":1,"column":1200}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":149,"column":22},"generated":{"line":1,"column":1202}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":149,"column":30},"generated":{"line":1,"column":1204}},{"source":"node_modules/posthtml/lib/index.js","name":"i","original":{"line":153,"column":6},"generated":{"line":1,"column":1207}},{"source":"node_modules/posthtml/lib/index.js","name":"i","original":{"line":153,"column":6},"generated":{"line":1,"column":1211}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":153,"column":10},"generated":{"line":1,"column":1213}},{"source":"node_modules/posthtml/lib/index.js","name":"next","original":{"line":155,"column":6},"generated":{"line":1,"column":1215}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":155,"column":13},"generated":{"line":1,"column":1217}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":155,"column":23},"generated":{"line":1,"column":1226}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":155,"column":31},"generated":{"line":1,"column":1228}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":159,"column":8},"generated":{"line":1,"column":1231}},{"source":"node_modules/posthtml/lib/index.js","name":"_treeExtendApi","original":{"line":156,"column":4},"generated":{"line":1,"column":1234}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":156,"column":19},"generated":{"line":1,"column":1236}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":156,"column":27},"generated":{"line":1,"column":1238}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":159,"column":8},"generated":{"line":1,"column":1244}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":159,"column":13},"generated":{"line":1,"column":1249}},{"source":"node_modules/posthtml/lib/index.js","name":"length","original":{"line":159,"column":21},"generated":{"line":1,"column":1257}},{"source":"node_modules/posthtml/lib/index.js","name":"i","original":{"line":159,"column":31},"generated":{"line":1,"column":1265}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":160,"column":6},"generated":{"line":1,"column":1267}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":160,"column":9},"generated":{"line":1,"column":1269}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":160,"column":15},"generated":{"line":1,"column":1274}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":159,"column":8},"generated":{"line":1,"column":1281}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":174,"column":8},"generated":{"line":1,"column":1282}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":174,"column":8},"generated":{"line":1,"column":1286}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":174,"column":17},"generated":{"line":1,"column":1288}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":174,"column":22},"generated":{"line":1,"column":1293}},{"source":"node_modules/posthtml/lib/index.js","name":"i","original":{"line":174,"column":30},"generated":{"line":1,"column":1301}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":176,"column":8},"generated":{"line":1,"column":1306}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":176,"column":26},"generated":{"line":1,"column":1309}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":176,"column":8},"generated":{"line":1,"column":1313}},{"source":"node_modules/posthtml/lib/index.js","name":"length","original":{"line":176,"column":15},"generated":{"line":1,"column":1315}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":176,"column":8},"generated":{"line":1,"column":1322}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":185,"column":8},"generated":{"line":1,"column":1323}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":185,"column":8},"generated":{"line":1,"column":1327}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":185,"column":14},"generated":{"line":1,"column":1329}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":187,"column":8},"generated":{"line":1,"column":1334}},{"source":"node_modules/posthtml/lib/index.js","name":"tryCatch","original":{"line":187,"column":14},"generated":{"line":1,"column":1336}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":187,"column":23},"generated":{"line":1,"column":1338}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":188,"column":13},"generated":{"line":1,"column":1349}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":188,"column":13},"generated":{"line":1,"column":1356}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":188,"column":20},"generated":{"line":1,"column":1358}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":189,"column":7},"generated":{"line":1,"column":1362}},{"source":"node_modules/posthtml/lib/index.js","name":"e","original":{"line":189,"column":17},"generated":{"line":1,"column":1371}},{"source":"node_modules/posthtml/lib/index.js","name":"e","original":{"line":191,"column":13},"generated":{"line":1,"column":1374}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":190,"column":6},"generated":{"line":1,"column":1381}},{"source":"node_modules/posthtml/lib/index.js","name":"e","original":{"line":190,"column":12},"generated":{"line":1,"column":1383}},{"source":"node_modules/posthtml/lib/index.js","name":"e","original":{"line":191,"column":13},"generated":{"line":1,"column":1385}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":194,"column":8},"generated":{"line":1,"column":1389}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":195,"column":6},"generated":{"line":1,"column":1391}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":195,"column":9},"generated":{"line":1,"column":1393}},{"source":"node_modules/posthtml/lib/index.js","name":"isPromise","original":{"line":199,"column":8},"generated":{"line":1,"column":1396}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":199,"column":18},"generated":{"line":1,"column":1398}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":200,"column":6},"generated":{"line":1,"column":1401}},{"source":"node_modules/posthtml/lib/index.js","name":"then","original":{"line":200,"column":10},"generated":{"line":1,"column":1403}},{"source":"node_modules/posthtml/lib/index.js","name":"_next","original":{"line":200,"column":15},"generated":{"line":1,"column":1408}},{"source":"node_modules/posthtml/lib/index.js","name":"catch","original":{"line":200,"column":22},"generated":{"line":1,"column":1411}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":200,"column":28},"generated":{"line":1,"column":1417}},{"source":"node_modules/posthtml/lib/index.js","name":"_next","original":{"line":204,"column":4},"generated":{"line":1,"column":1420}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":204,"column":10},"generated":{"line":1,"column":1422}},{"source":"node_modules/posthtml/lib/index.js","name":"plugin","original":{"line":177,"column":6},"generated":{"line":1,"column":1430}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":177,"column":13},"generated":{"line":1,"column":1432}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":177,"column":21},"generated":{"line":1,"column":1434}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":177,"column":31},"generated":{"line":1,"column":1443}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":177,"column":36},"generated":{"line":1,"column":1445}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":178,"column":12},"generated":{"line":1,"column":1448}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":178,"column":12},"generated":{"line":1,"column":1451}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":178,"column":17},"generated":{"line":1,"column":1453}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":178,"column":24},"generated":{"line":1,"column":1460}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":178,"column":27},"generated":{"line":1,"column":1462}},{"source":"node_modules/posthtml/lib/index.js","name":"_next","original":{"line":179,"column":8},"generated":{"line":1,"column":1465}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":179,"column":14},"generated":{"line":1,"column":1467}},{"source":"node_modules/posthtml/lib/index.js","name":"_next","original":{"line":165,"column":13},"generated":{"line":1,"column":1472}},{"source":"node_modules/posthtml/lib/index.js","name":"_next","original":{"line":165,"column":13},"generated":{"line":1,"column":1481}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":165,"column":20},"generated":{"line":1,"column":1483}},{"source":"node_modules/posthtml/lib/index.js","name":"next","original":{"line":170,"column":13},"generated":{"line":1,"column":1486}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":166,"column":10},"generated":{"line":1,"column":1493}},{"source":"node_modules/posthtml/lib/index.js","name":"options","original":{"line":166,"column":18},"generated":{"line":1,"column":1497}},{"source":"node_modules/posthtml/lib/index.js","name":"skipParse","original":{"line":166,"column":26},"generated":{"line":1,"column":1499}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":167,"column":8},"generated":{"line":1,"column":1511}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":167,"column":14},"generated":{"line":1,"column":1513}},{"source":"node_modules/posthtml/lib/index.js","name":"concat","original":{"line":167,"column":17},"generated":{"line":1,"column":1516}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":167,"column":24},"generated":{"line":1,"column":1523}},{"source":"node_modules/posthtml/lib/index.js","name":"next","original":{"line":170,"column":13},"generated":{"line":1,"column":1527}},{"source":"node_modules/posthtml/lib/index.js","name":"res","original":{"line":170,"column":18},"generated":{"line":1,"column":1529}},{"source":"node_modules/posthtml/lib/index.js","name":"result","original":{"line":170,"column":25},"generated":{"line":1,"column":1532}},{"source":"node_modules/posthtml/lib/index.js","name":"cb","original":{"line":170,"column":33},"generated":{"line":1,"column":1534}},{"source":"node_modules/posthtml/lib/index.js","name":"bind","original":{"line":205,"column":4},"generated":{"line":1,"column":1539}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":205,"column":9},"generated":{"line":1,"column":1544}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":207,"column":9},"generated":{"line":1,"column":1550}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":207,"column":9},"generated":{"line":1,"column":1557}},{"source":"node_modules/posthtml/lib/index.js","name":"Promise","original":{"line":207,"column":13},"generated":{"line":1,"column":1561}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":207,"column":21},"generated":{"line":1,"column":1569}},{"source":"node_modules/posthtml/lib/index.js","name":"resolve","original":{"line":207,"column":31},"generated":{"line":1,"column":1578}},{"source":"node_modules/posthtml/lib/index.js","name":"reject","original":{"line":207,"column":40},"generated":{"line":1,"column":1580}},{"source":"node_modules/posthtml/lib/index.js","name":"next","original":{"line":208,"column":4},"generated":{"line":1,"column":1583}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":208,"column":9},"generated":{"line":1,"column":1585}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":208,"column":15},"generated":{"line":1,"column":1587}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":208,"column":25},"generated":{"line":1,"column":1596}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":208,"column":30},"generated":{"line":1,"column":1598}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":209,"column":10},"generated":{"line":1,"column":1601}},{"source":"node_modules/posthtml/lib/index.js","name":"reject","original":{"line":209,"column":15},"generated":{"line":1,"column":1603}},{"source":"node_modules/posthtml/lib/index.js","name":"err","original":{"line":209,"column":22},"generated":{"line":1,"column":1605}},{"source":"node_modules/posthtml/lib/index.js","name":"resolve","original":{"line":210,"column":11},"generated":{"line":1,"column":1608}},{"source":"node_modules/posthtml/lib/index.js","name":"lazyResult","original":{"line":210,"column":19},"generated":{"line":1,"column":1610}},{"source":"node_modules/posthtml/lib/index.js","name":"render","original":{"line":210,"column":30},"generated":{"line":1,"column":1612}},{"source":"node_modules/posthtml/lib/index.js","name":"tree","original":{"line":210,"column":38},"generated":{"line":1,"column":1614}},{"source":"node_modules/posthtml/lib/index.js","name":"module","original":{"line":229,"column":0},"generated":{"line":1,"column":1623}},{"source":"node_modules/posthtml/lib/index.js","name":"exports","original":{"line":229,"column":7},"generated":{"line":1,"column":1630}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":229,"column":17},"generated":{"line":1,"column":1638}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":229,"column":27},"generated":{"line":1,"column":1647}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":230,"column":9},"generated":{"line":1,"column":1650}},{"source":"node_modules/posthtml/lib/index.js","original":{"line":230,"column":9},"generated":{"line":1,"column":1657}},{"source":"node_modules/posthtml/lib/index.js","name":"PostHTML","original":{"line":230,"column":13},"generated":{"line":1,"column":1661}},{"source":"node_modules/posthtml/lib/index.js","name":"plugins","original":{"line":230,"column":22},"generated":{"line":1,"column":1663}}],"sources":{"node_modules/posthtml/lib/index.js":"var pkg = require('../package.json')\nvar Api = require('./api.js')\n\nvar parser = require('posthtml-parser')\nvar render = require('posthtml-render')\n\n/**\n * @author Ivan Voischev (@voischev),\n *         Anton Winogradov (@awinogradov),\n *         Alexej Yaroshevich (@zxqfox),\n *         Vasiliy (@Yeti-or)\n *\n * @requires api\n * @requires posthtml-parser\n * @requires posthtml-render\n *\n * @constructor PostHTML\n * @param {Array} plugins - An array of PostHTML plugins\n */\nfunction PostHTML (plugins) {\n/**\n * PostHTML Instance\n *\n * @prop plugins\n * @prop options\n */\n  this.version = pkg.version\n  this.name = pkg.name\n  this.plugins = typeof plugins === 'function' ? [plugins] : plugins || []\n\n  /**\n   * Tree messages to store and pass metadata between plugins\n   *\n   * @memberof tree\n   * @type {Array} messages\n   *\n   * @example\n   * ```js\n   * export default function plugin (options = {}) {\n   *   return function (tree) {\n   *      tree.messages.push({\n   *        type: 'dependency',\n   *        file: 'path/to/dependency.html',\n   *        from: tree.options.from\n   *      })\n   *\n   *      return tree\n   *   }\n   * }\n   * ```\n   */\n  this.messages = []\n\n  // extend api methods\n  Api.call(this)\n}\n\n/**\n * @requires posthtml-parser\n *\n * @param   {String} html - Input (HTML)\n * @returns {Array}  tree - PostHTMLTree (JSON)\n */\nPostHTML.parser = parser\n/**\n * @requires posthtml-render\n *\n * @param   {Array}  tree - PostHTMLTree (JSON)\n * @returns {String} html - HTML\n */\nPostHTML.render = render\n\n/**\n* @this posthtml\n* @param   {Function} plugin - A PostHTML plugin\n* @returns {Constructor} - this(PostHTML)\n*\n* **Usage**\n* ```js\n* ph.use((tree) => { tag: 'div', content: tree })\n*   .process('<html>..</html>', {})\n*   .then((result) => result))\n* ```\n*/\nPostHTML.prototype.use = function () {\n  [].push.apply(this.plugins, arguments)\n  return this\n}\n\n/**\n * @param   {String} html - Input (HTML)\n * @param   {?Object} options - PostHTML Options\n * @returns {Object<{html: String, tree: PostHTMLTree}>} - Sync Mode\n * @returns {Promise<{html: String, tree: PostHTMLTree}>} - Async Mode (default)\n *\n * **Usage**\n *\n * **Sync**\n * ```js\n * ph.process('<html>..</html>', { sync: true }).html\n * ```\n *\n * **Async**\n * ```js\n * ph.process('<html>..</html>', {}).then((result) => result))\n * ```\n */\nPostHTML.prototype.process = function (tree, options) {\n  /**\n   * ## PostHTML Options\n   *\n   * @type {Object}\n   * @prop {?Boolean} options.sync - enables sync mode, plugins will run synchronously, throws an error when used with async plugins\n   * @prop {?Function} options.parser - use custom parser, replaces default (posthtml-parser)\n   * @prop {?Function} options.render - use custom render, replaces default (posthtml-render)\n   * @prop {?Boolean} options.skipParse - disable parsing\n   */\n  options = this.options = options || {}\n\n  if (options.parser) parser = options.parser\n  if (options.render) render = options.render\n\n  tree = options.skipParse\n    ? tree || []\n    : parser(tree, options)\n\n  // sync mode\n  if (options.sync === true) {\n    this.plugins.forEach(function (plugin, index) {\n      _treeExtendApi(tree, this)\n\n      var result\n\n      if (plugin.length === 2 || isPromise(result = plugin(tree))) {\n        throw new Error(\n          'Canâ€™t process contents in sync mode because of async plugin: ' + plugin.name\n        )\n      }\n\n      // clearing the tree of options\n      if (index !== this.plugins.length - 1 && !options.skipParse) {\n        tree = [].concat(tree)\n      }\n\n      // return the previous tree unless result is fulfilled\n      tree = result || tree\n    }.bind(this))\n\n    return lazyResult(render, tree)\n  }\n\n  // async mode\n  var i = 0\n\n  var next = function (result, cb) {\n    _treeExtendApi(result, this)\n\n    // all plugins called\n    if (this.plugins.length <= i) {\n      cb(null, result)\n      return\n    }\n\n    // little helper to go to the next iteration\n    function _next (res) {\n      if (res && !options.skipParse) {\n        res = [].concat(res)\n      }\n\n      return next(res || result, cb)\n    }\n\n    // call next\n    var plugin = this.plugins[i++]\n\n    if (plugin.length === 2) {\n      plugin(result, function (err, res) {\n        if (err) return cb(err)\n        _next(res)\n      })\n      return\n    }\n\n    // sync and promised plugins\n    var err = null\n\n    var res = tryCatch(function () {\n      return plugin(result)\n    }, function (e) {\n      err = e\n      return e\n    })\n\n    if (err) {\n      cb(err)\n      return\n    }\n\n    if (isPromise(res)) {\n      res.then(_next).catch(cb)\n      return\n    }\n\n    _next(res)\n  }.bind(this)\n\n  return new Promise(function (resolve, reject) {\n    next(tree, function (err, tree) {\n      if (err) reject(err)\n      else resolve(lazyResult(render, tree))\n    })\n  })\n}\n\n/**\n * @exports posthtml\n *\n * @param  {Array} plugins\n * @return {Function} posthtml\n *\n * **Usage**\n * ```js\n * import posthtml from 'posthtml'\n * import plugin from 'posthtml-plugin'\n *\n * const ph = posthtml([ plugin() ])\n * ```\n */\nmodule.exports = function (plugins) {\n  return new PostHTML(plugins)\n}\n\n/**\n * Extension of options tree\n *\n * @private\n *\n * @param   {Array}    tree\n * @param   {Object}   PostHTML\n * @returns {?*}\n */\nfunction _treeExtendApi (t, _t) {\n  if (typeof t === 'object') {\n    t = Object.assign(t, _t)\n  }\n}\n\n/**\n * Checks if parameter is a Promise (or thenable) object.\n *\n * @private\n *\n * @param   {*} promise - Target `{}` to test\n * @returns {Boolean}\n */\nfunction isPromise (promise) {\n  return !!promise && typeof promise.then === 'function'\n}\n\n/**\n * Simple try/catch helper, if exists, returns result\n *\n * @private\n *\n * @param   {Function} tryFn - try block\n * @param   {Function} catchFn - catch block\n * @returns {?*}\n */\nfunction tryCatch (tryFn, catchFn) {\n  try {\n    return tryFn()\n  } catch (err) {\n    catchFn(err)\n  }\n}\n\n/**\n * Wraps the PostHTMLTree within an object using a getter to render HTML on demand.\n *\n * @private\n *\n * @param   {Function} render\n * @param   {Array}    tree\n * @returns {Object<{html: String, tree: Array}>}\n */\nfunction lazyResult (render, tree) {\n  return {\n    get html () {\n      return render(tree, tree.options)\n    },\n    tree: tree,\n    messages: tree.messages\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"2876fc6ff1a13293e73cc549a4e68e20","cacheData":{"env":{}}}